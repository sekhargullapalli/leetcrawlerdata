<!DOCTYPE html> <html lang="en"> <head> <title>Taking control | tretton37</title> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"> <link rel="prefetch" href="/../assets/i/migrating-with-tfs-integration-platform.jpg"> <link rel="prefetch" href="/../assets/i/2019-01-24-usability-testing-in-Germany.jpg"> <link rel="prefetch" href="/../assets/i/agilistas-vs-cowboys.jpg"> <link rel="prefetch" href="/../assets/i/alfa-laval-explore-the-story.jpg"> <link rel="prefetch" href="/../assets/i/algorithm-challenge.jpg"> <link rel="prefetch" href="/../assets/i/becoming-a-software-movement.jpg"> <link rel="prefetch" href="/../assets/i/build-2013-june-26-28-san-francisco.jpg"> <link rel="prefetch" href="/../assets/i/challenge-the-world.jpg"> <link rel="prefetch" href="/../assets/i/code-retreat.jpg"> <link rel="prefetch" href="/../assets/i/coderdojo-for-girls.jpg"> <link rel="prefetch" href="/../assets/i/coldfront-tickets-up-for-grabs.jpg"> <link rel="prefetch" href="/../assets/i/community-quid-pro-quo.jpg"> <link rel="prefetch" href="/../assets/i/deniz-yildirim-arets-manliga-stjarnskott.jpg"> <link rel="prefetch" href="/../assets/i/designsprint-week-in-short.jpg"> <link rel="prefetch" href="/../assets/i/devnull-is-coming-to-lund.jpg"> <link rel="prefetch" href="/../assets/i/devnull-the-prizes.jpg"> <link rel="prefetch" href="/../assets/i/elitesoldaten-som-blev-företagsbyggare.jpg"> <link rel="prefetch" href="/../assets/i/expansion-but-how.jpg"> <link rel="prefetch" href="/../assets/i/game-night.jpg"> <link rel="prefetch" href="/../assets/i/global-code-lunch.jpg"> <link rel="prefetch" href="/../assets/i/global-day-of-coderetreat.jpg"> <link rel="prefetch" href="/../assets/i/have-a-1337-summer.jpg"> <link rel="prefetch" href="/../assets/i/hey-theres-a-nuget-for-that.jpg"> <link rel="prefetch" href="/../assets/i/holiday-mingle.jpg"> <link rel="prefetch" href="/../assets/i/if-girls-ran-the-world.jpg"> <link rel="prefetch" href="/../assets/i/impressions-from-the-sharepoint-conference-in-las-vegas.jpg"> <link rel="prefetch" href="/../assets/i/in-the-pursuit-of-becoming-the-most-admired-company-in-our-region.jpg"> <link rel="prefetch" href="/../assets/i/introduction-to-hardware-programming.jpg"> <link rel="prefetch" href="/../assets/i/it-all-begins-at-coderdojo.jpg"> <link rel="prefetch" href="/../assets/i/jesper-carlgren-ar-tretton37.jpg"> <link rel="prefetch" href="/../assets/i/join-me-for-devconf.jpg"> <link rel="prefetch" href="/../assets/i/knowabunga-day-april.jpg"> <link rel="prefetch" href="/../assets/i/knowabunga-day-june.jpg"> <link rel="prefetch" href="/../assets/i/leethack-alpha-2.jpg"> <link rel="prefetch" href="/../assets/i/leetspeak-2013.jpg"> <link rel="prefetch" href="/../assets/i/leetspeak-2014.jpg"> <link rel="prefetch" href="/../assets/i/leetspeak-beyond-the-framework.jpg"> <link rel="prefetch" href="/../assets/i/leetzeppelin.jpg"> <link rel="prefetch" href="/../assets/i/lundabolag-vill-vaxa-men-fortsatta-som-it-ninjor.jpg"> <link rel="prefetch" href="/../assets/i/make-sure-that-your-co-workers-makes-a-push-the-first-day-at-work.jpg"> <link rel="prefetch" href="/../assets/i/make-your-system-administrator-friendly-with-powershell.jpg"> <link rel="prefetch" href="/../assets/i/meet-new-friends-then-beat-them-at-cloudball.jpg"> <link rel="prefetch" href="/../assets/i/a-magical-pet-project.jpg"> <link rel="prefetch" href="/../assets/i/mingle-and-jingle-lund.jpg"> <link rel="prefetch" href="/../assets/i/mingle-and-jingle-stockholm.jpg"> <link rel="prefetch" href="/../assets/i/mingle-and-jingle.jpg"> <link rel="prefetch" href="/../assets/i/most-diverse-company-of-the-year.jpg"> <link rel="prefetch" href="/../assets/i/movie-night.jpg"> <link rel="prefetch" href="/../assets/i/moving-towards-autonomous-knowledge-development.jpg"> <link rel="prefetch" href="/../assets/i/my-thoughts-about-spc14.jpg"> <link rel="prefetch" href="/../assets/i/one-day-course-in-tdd-with-roy-osherove.jpg"> <link rel="prefetch" href="/../assets/i/panel-discussion.jpg"> <link rel="prefetch" href="/../assets/i/present-at-meetings.jpg"> <link rel="prefetch" href="/../assets/i/press-release-expand-slovenia-40-percent.jpg"> <link rel="prefetch" href="/../assets/i/qliktech-gar-in-som-exklusiv-sponsor-for-leetspeak.jpg"> <link rel="prefetch" href="/../assets/i/report-on-knowledge-sharing-day-1337oss-at-the-lund-office.jpg"> <link rel="prefetch" href="/../assets/i/robot-fight-night.jpg"> <link rel="prefetch" href="/../assets/i/robowars.jpg"> <link rel="prefetch" href="/../assets/i/sharepoint-is-that-really-ninja.jpg"> <link rel="prefetch" href="/../assets/i/so-leetspeak-that-happened.jpg"> <link rel="prefetch" href="/../assets/i/software-craftsmanship-discussion.jpg"> <link rel="prefetch" href="/../assets/i/swag-cloud-burst-2012.jpg"> <link rel="prefetch" href="/../assets/i/taking-control.jpg"> <link rel="prefetch" href="/../assets/i/that-time-i-moved-to-sweden.jpg"> <link rel="prefetch" href="/../assets/i/the-second-knowabunga-day-of-2014.jpg"> <link rel="prefetch" href="/../assets/i/the-third-knowabunga-day-of-2014.jpg"> <link rel="prefetch" href="/../assets/i/thomas-barge-blir-ny-styrelseordforande-i-tretton37.jpg"> <link rel="prefetch" href="/../assets/i/Top-100-most-exciting-employers.jpg"> <link rel="prefetch" href="/../assets/i/tretton37_open_source.jpg"> <link rel="prefetch" href="/../assets/i/tretton37-blue-pebble.jpg"> <link rel="prefetch" href="/../assets/i/tretton37-forlanger-ramavtal-med-alfa-laval-lund-ab.jpg"> <link rel="prefetch" href="/../assets/i/tretton37-gar-mot-konsultstrommen.jpg"> <link rel="prefetch" href="/../assets/i/tretton37-skriver-kod-for-valgorenhet.jpg"> <link rel="prefetch" href="/../assets/i/tretton37-slapper-mindfulness-appen.jpg"> <link rel="prefetch" href="/../assets/i/tretton37-tecknar-ramavtal-med-sembo.jpg"> <link rel="prefetch" href="/../assets/i/tretton37-till-stockholm.jpg"> <link rel="prefetch" href="/../assets/i/two-day-masterclass-faster-software-delivery-with-dan-north-at-foo-cafe-in-malmo.jpg"> <link rel="prefetch" href="/../assets/i/unit-testing-the-forgotten-view-in-sharepoint-web-parts.jpg"> <link rel="prefetch" href="/../assets/i/we-have-a-new-shiny-blog.jpg"> <link rel="prefetch" href="/../assets/i/we-heart-nancy.jpg"> <link rel="prefetch" href="/../assets/i/we-love-new-knowledge.jpg"> <link rel="prefetch" href="/../assets/i/we-love-open-source.jpg"> <link rel="prefetch" href="/../assets/i/we-ran-we-saw-we-conquered.jpg"> <link rel="prefetch" href="/../assets/i/why-you-should-talk-to-strangers.jpg"> <link rel="prefetch" href="/../assets/i/youthspeak-press-release.jpg"> <meta property="og:title" content="Taking control"> <meta property="twitter:title" content="Taking control"> <meta itemprop="name" content="Taking control"> <meta property="og:type" content="article"> <meta property="twitter:card" content="summary"> <meta property="og:url" content="http://www.tretton37.com/blog/taking-control.html"> <meta property="twitter:url" content="http://www.tretton37.com/blog/taking-control.html"> <meta name="description" content="I&#x27;m sure you&#x27;re familiar with this situation, and if not, you&#x27;re either lucky or new: Starting a new assignment and taking over someone’s code, code that is in some sort of state of decay or disarray. Bonus points if the original author isn&#x27;t even around anymore to answer any questions you have. Extra bonus points if there&#x27;s no source control."> <meta property="og:description" content="I&#x27;m sure you&#x27;re familiar with this situation, and if not, you&#x27;re either lucky or new: Starting a new assignment and taking over someone’s code, code that is in some sort of state of decay or disarray. Bonus points if the original author isn&#x27;t even around anymore to answer any questions you have. Extra bonus points if there&#x27;s no source control."> <meta property="twitter:description" content="I&#x27;m sure you&#x27;re familiar with this situation, and if not, you&#x27;re either lucky or new: Starting a new assignment and taking over someone’s code, code that is in some sort of state of decay or disarray. Bonus points if the original author isn&#x27;t even around anymore to answer any questions you have. Extra bonus points if there&#x27;s no source control."> <meta itemprop="description" content="I&#x27;m sure you&#x27;re familiar with this situation, and if not, you&#x27;re either lucky or new: Starting a new assignment and taking over someone’s code, code that is in some sort of state of decay or disarray. Bonus points if the original author isn&#x27;t even around anymore to answer any questions you have. Extra bonus points if there&#x27;s no source control."> <meta property="og:image" content="http://www.tretton37.com/files/images/tretton37square.png"> <meta property="twitter:image" content="http://www.tretton37.com/files/images/tretton37square.png"> <meta itemprop="image" content="http://www.tretton37.com/files/images/tretton37square.png"> <link rel="author" type="text/x-markdown" href="/humans.txt"> <link href="../assets/css/main.css?55096b37-6b43-48a1-b2d4-12163f8b3192" rel="stylesheet"> <link rel="icon" type="image/png" href="../assets/i/favicon.png"> <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500" rel="stylesheet"> <!--[if lte IE 8]>
    <script src="/assets/js/lib/rem.min.js" type="text/javascript"></script>
    <script src="//cdn.jsdelivr.net/g/html5shiv@3.7.0,selectivizr@1.0.3b,respond@1.4.2"></script>
    <link href="/../assets/css/main.ie.css?bbb4f6d3-35ed-4d54-810d-8c3b2fd8fc4c" rel="stylesheet" />
  <![endif]--> </head> <body class="spotlight-inactive"> <div class="navbar-gradient"> </div> <header class="navbar" role="navigation"> <div class="inner-scroll"> <ul class="navbar-menu" role="navigation"> <li><a href="/who-we-are">Who we are</a></li> <li><a href="/what-we-do">What we do</a></li> <li><a href="/knowledge-sharing">Knowledge sharing</a></li> <li><a href="/join">Join</a></li> <li><a href="/contact">Contact</a></li> </ul> <ul class="navbar-menu navbar-menu-sub"> <li><a href="/events">Events</a></li> <li><a href="/blog">Blog</a></li> </ul> </div> <div class="branding"> <a href="/"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 456.82 89.62"><defs></defs><title>_tretton37 logo green</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="logoFill" d="M16.19,74.86a27.32,27.32,0,0,1-6.86-.8,11.4,11.4,0,0,1-4.89-2.64,12.94,12.94,0,0,1-3.23-5A24,24,0,0,1,0,58.1V0H14V14.76H28.47V27H14V55.33c0,5,2.61,7.72,7.35,7.72a21,21,0,0,0,6.89-1V72.28A33.94,33.94,0,0,1,23.39,74,26,26,0,0,1,16.19,74.86Z"/><path class="logoFill" d="M240.23,74.87c-12.88,0-25-7.41-29.46-19.72a30.1,30.1,0,0,1,9.83-33.82A33.44,33.44,0,0,1,256.84,19,30,30,0,0,1,271,51c-2.61,12.48-13.44,21.82-25.92,23.53A36.25,36.25,0,0,1,240.23,74.87Zm0-49.06a17.38,17.38,0,0,0-16.64,12.45c-2.25,7.29-.4,15.74,5.47,20.79a18,18,0,0,0,20.72,1.7c6.55-4,9.18-12.18,7.94-19.53C256.27,32.68,249,25.81,240.23,25.81Z"/><polygon class="logoFill" points="402.4 14.76 402.4 27.02 441.25 27.02 406.7 89.62 422.68 89.62 456.82 25.82 456.82 14.76 402.4 14.76"/><path class="logoFill" d="M305,14.76H278.67v60.1h14V27h12.77a11,11,0,0,1,8.07,3.1c3.89,4.11,3.89,13.42,3.89,20.69V74.86h14V41.12C331.4,18.18,314.88,14.76,305,14.76Z"/><polygon class="logoFill" points="54.14 14.76 38.47 14.76 38.47 74.86 52.47 74.86 52.47 27.01 67.05 27.01 54.14 14.76"/><path class="logoFill" d="M119.4,68.2a32.45,32.45,0,0,1-7.92,6.23,23.94,23.94,0,0,1-11.57,2.68,14.17,14.17,0,0,1-9.32-3,10.43,10.43,0,0,1-3.78-8.41v-.23a10.09,10.09,0,0,1,4.94-9c3-1.92,7.24-2.9,12.53-2.9h2.38l2.19-8.92L91.33,27h33.72V14.76h-51v11L93.22,44l-.15,0a39.83,39.83,0,0,0-7.66,2.09A21.81,21.81,0,0,0,79,49.93a17.82,17.82,0,0,0-4.48,6,21,21,0,0,0-1.68,8.86v.23a25,25,0,0,0,1.88,9.83,23,23,0,0,0,5.38,7.75,24.5,24.5,0,0,0,8.57,5.14,34.1,34.1,0,0,0,11.49,1.85c7,0,12.94-1.24,17.76-3.69a38.59,38.59,0,0,0,11.21-8.47Z"/><path class="logoFill" d="M347.05,68.2A32.68,32.68,0,0,0,355,74.43a23.87,23.87,0,0,0,11.56,2.68,14.15,14.15,0,0,0,9.32-3,10.43,10.43,0,0,0,3.78-8.41v-.23a10.1,10.1,0,0,0-4.93-9c-3-1.92-7.25-2.9-12.53-2.9h-2.39l-2.19-8.92L375.13,27H341.4V14.76h51v11L373.23,44l.15,0a40.13,40.13,0,0,1,7.67,2.09,22.07,22.07,0,0,1,6.43,3.83A17.8,17.8,0,0,1,392,56a21,21,0,0,1,1.69,8.86v.23a25,25,0,0,1-1.89,9.83,23,23,0,0,1-5.38,7.75,24.5,24.5,0,0,1-8.57,5.14,34.06,34.06,0,0,1-11.49,1.85c-7,0-12.94-1.24-17.76-3.69a38.42,38.42,0,0,1-11.2-8.47Z"/><path class="logoFill" d="M151.28,74.88a26.84,26.84,0,0,1-6.86-.81,11.28,11.28,0,0,1-4.89-2.63,13.09,13.09,0,0,1-3.23-5,24,24,0,0,1-1.21-8.29V0h14V14.77h14.47V27H149.09V55.34c0,5,2.61,7.72,7.35,7.72a21,21,0,0,0,6.89-1V72.29A31.64,31.64,0,0,1,158.48,74,25.56,25.56,0,0,1,151.28,74.88Z"/><path class="logoFill" d="M189.74,74.88a26.76,26.76,0,0,1-6.85-.81A11.22,11.22,0,0,1,178,71.44a13,13,0,0,1-3.23-5,23.81,23.81,0,0,1-1.21-8.29V0h14V14.77H202V27H187.55V55.34c0,5,2.62,7.72,7.36,7.72a20.88,20.88,0,0,0,6.88-1V72.29A31.52,31.52,0,0,1,197,74,25.63,25.63,0,0,1,189.74,74.88Z"/></g></g></svg> </a> </div> <div class="menu-link menu-link-top"><a href="javascript:void(0)" data-toggle-menu-top><span></span></a></div> <div class="menu-link menu-link-sub"><a href="javascript:void(0)" data-toggle-menu-sub><span></span></a></div> </header> <section class="hero short hero-blog"> <div class="title" style=""> <h1>Blogging is fun</h1> </div> </section> <section class="site-section blog-section light-gray"> <div class="container"> <aside> <img src="//tretton37img.blob.core.windows.net/ninja-portrait/per-dervall"> </aside> <article class="blog-post"> <h1> Taking control </h1> <span class="publication-info"> Posted 2012-01-19 </span> <span class="author-info"> By <a href="/meet/per-dervall.html">Per Dervall</a> </span> <span class="social-icons"> <a href="http://www.linkedin.com//in/perdervall" target="_blank"><i class="icon-linkedin"></i></a> <a href="http://twitter.com/intent/user?screen_name=perdervall" target="_blank"><i class="icon-twitter"></i></a> <a href="https://github.com/Dervall" target="_blank"><i class="icon-github"></i></a> <a href="http://stackoverflow.com/users/194639" target="_blank"><i class="icon-stackoverflow"></i></a> <a class="encrypted-email" href="mailto:cre.qreinyy@gerggba37.pbz"><i class="icon-envelope"></i></a> </span> <span class="blog-post-content"> <p>I'm sure you're familiar with this situation, and if not, you're either lucky or new: Starting a new assignment and taking over someone’s code, code that is in some sort of state of decay or disarray. Bonus points if the original author isn't even around anymore to answer any questions you have. Extra bonus points if there's no source control.</p> <p>I've done this scenario quite a few times now, and the experience for me has gone from horror and bewilderment the first time I did it, to actually now enjoying it. As long as you have a proper and well thought through approach, I'm positive you can turn almost all code around.</p> <p>What about rewrites then? It's almost a mantra that if code is old enough it should have been rewritten. I'm sure there are times when this is the right choice, but it carries a very high risk. Going through code you sometimes find really odd pieces, which seems to do elaborate things for obscure reasons. Those, ugly as they may be, are sometimes gems of knowledge on how to handle specific corner cases. If you rewrite things, you will lose those gems. Another huge risk is the time when rewriting and you still have to manage the old system in addition to rewriting it. With features actually going in to the old stuff while writing new, and the split focus; you're threading on perilous ground. Ask the Netscape guys, <a href="http://www.joelonsoftware.com/articles/fog0000000069.html">they should know</a>.</p> <p>So, refactoring is, in my opinion, the way to go in most cases. I'm going for the old-school definition of refactoring here - changing the implementation without altering the functionality. Don't try to improve on what the thing actually does when you refactor. Just make it pretty on the inside. My approach to this is almost formulaic by now:</p> <p>First off the bat, write tests for the existing code base - try not to change the code base too much. If any refactoring is to be done, it should be in order to increase testability. Aim for a coverage percentage you feel comfortable with, but don't aim too high. As long as the coverage percentage doesn't become a goal in itself - there's quite a few horror stories about what has been done to increase code coverage. I remember hearing once about a guy who wrote a function that just iterated through every available function, calling it with null or 0 and ignoring the result and catching all exceptions. That sort of test is even worse than no tests whatsoever, since this leads to false security. Refactor the unit tests as well. I sometimes wonder why test code doesn't get the same refactoring love that &quot;normal&quot; code does. It deserves it, test code is the only code that will find bugs instead of causing them.</p> <p>Then refactor. The important thing is to not try to force the code into something it was never intended to be, say moving a webforms app to a MVC app while refactoring. That's in the realm of rewriting, not refactoring. Instead, make it the best webform app you can. The point is to step-by-step make the codebase smaller, and thus more malleable. I usually find it easiest to work from the bottom up, starting with the data layer and ending up in the UI. As long as the refactoring never takes the form of scrapping an entire module of code, you should be able to continually have a working product throughout the process.</p> <p>Use a good tool! I like <a href="http://www.jetbrains.com/resharper/">ReSharper</a>. Consider style warnings for your tool of choice as errors and accept no deviations. Spending time adding features like a keyhole surgeon to an uncontrolled codebase is producing waste and, more importantly, consolidating broken code.</p> <p>That is just my two cents...</p> </span> <div class="blog-post-shameless-plug"> <p>Shameless plug: Are you a ninja? <a href="/join"> We are hiring in all our offices. </a></p> </div> <div class="discuss-social-media-container"> <h4> Share post </h4> <div class="discuss-social-media-icons-container"> <a target="_blank" class="linkedin" href="http://www.linkedin.com/shareArticle?mini=true&url=http://www.tretton37.com/blog/taking-control.html&title=Taking control&summary=http://www.tretton37.com/blog/taking-control.html"></a> <a target="_blank" class="twitter" href="https://twitter.com/intent/tweet?text=Taking control&url=http://www.tretton37.com/blog/taking-control.html&via=tretton37"></a> <a target="_blank" class="facebook" href="http://www.facebook.com/share.php?u=http://www.tretton37.com/blog/taking-control.html"></a> </div> </div> </article> </div> </section> <footer> <section> <aside class="aside-left hide-small footerText"><img src="/assets/i/_tretton37_slogan_white.svg"></aside> <nav> <ul> <li><a href="/contact">CONTACT</a></li> <li><a href="http://leetspeak.se" target="_blank">LEETSPEAK <i class="icon-external-link icon-right"></i></a></li> <li><a href="/events">EVENTS</a></li> <li><a href="/leethack">LEETHACK</a></li> <li><a href="/blog">BLOG</a></li> <li><a href="/cookies">COOKIES</a></li> <li><a href="/privacy-policy">PRIVACY POLICY</a></li> </ul> </nav> <aside class="aside-right"> <a href="https://www.linkedin.com/company/tretton37-ab" target="_blank" class="icon-linkedin big"></a> <a href="https://www.facebook.com/tretton37ab" target="_blank" class="icon-facebook big"></a> <a href="https://twitter.com/tretton37" target="_blank" class="icon-twitter big"></a> <a href="https://github.com/tretton37" target="_blank" class="icon-github big"></a> <a href="https://instagram.com/tretton37ab" target="_blank" class="icon-instagram big"></a> <a href="https://www.flickr.com/photos/tretton37/albums" target="_blank" class="icon-flickr big"></a> </aside> <aside class="aside-left hide-big"><img src="/assets/i/_tretton37_slogan_white.svg"></aside> </section> </footer> <script src="../assets/js/lib/polyfills.js"></script> <script src="//cdn.jsdelivr.net/g/jquery@1.11.1,lodash@2.4.1,knockout@3.1.0,enquire.js@2.0.2,momentjs@2.10.6"></script> <script src="../assets/js/lib/common.js?3c5c2452-52ba-4907-be3a-05f077cfae56"></script> <!-- Facebook Pixel Code --> <script> !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window,document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '296832127829315');
    fbq('track', 'PageView'); </script> <noscript> <img height="1" width="1" src="https://www.facebook.com/tr?id=296832127829315&ev=PageView
    &noscript=1"> </noscript> <!-- End Facebook Pixel Code --> </body> </html> 